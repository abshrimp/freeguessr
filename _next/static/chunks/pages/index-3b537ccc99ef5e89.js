(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(6993)}])},5584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(4848),a=s(6540),i=s(9781),r=s.n(i);let l=e=>{let{setScreen:t,saveData:s,setSaveData:i,sender:l,getPlace:o}=e,[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),g=!0;(0,a.useEffect)(()=>{g&&(g=!1,h())},[]);let p=()=>{t("settings")},h=()=>{let e={1:"全国マップ",2:"デイリーマップ"};d(e[s.map_id]);let t=(e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60),n=e%60,a;return a=t<100?"00".concat(t).slice(-2):t,0!==t?"".concat(a,"h").concat(s,"m").concat(n,"s"):"".concat(s,"m").concat(n,"s")})(s.duration);m(t),next_btn.addEventListener("click",p);let n=JSON.parse(s.game_state).questions;n[n.length-1]=s.question;let a=L.map("guess_map_canvas",{zoomControl:!1});L.tileLayer("https://www.google.com/maps/vt?pb=!1m5!1m4!1i{z}!2i{x}!3i{y}!4i256!2m3!1e0!2sm!3i693439125!3m12!2sja!3sJP!5e289!12m4!1e68!2m2!1sset!2sRoadmap!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2",{attribution:"\xa9️ <a href='https://www.google.com/maps/' target='_blank'>Google</a>",maxZoom:20,maxNativeZoom:20}).addTo(a),new ResizeObserver(()=>{a.invalidateSize()}).observe(a._container);let i=L.icon({iconUrl:"/freeguessr/images/flag.svg",iconSize:[25,50],iconAnchor:[12.5,47]}),r=L.icon({iconUrl:"/freeguessr/images/guess.svg",iconSize:[24,24],iconAnchor:[12,12]}),l=[];for(let e=0;e<n.length;e++){let t=n[e],s=L.latLng([Number(t.lat),Number(t.lng)]);if(L.marker(s,{icon:i}).addTo(a).bindPopup("Round".concat(e+1),{autoClose:!1}).openPopup(),l.push(s),t.guess_lat){let e=L.latLng([Number(t.guess_lat),Number(t.guess_lng)]);L.marker(e,{icon:r}).addTo(a),L.polyline([s,e],{color:"black",weight:2,dashArray:"4 4"}).addTo(a),l.push(e)}}a.fitBounds(L.latLngBounds(l),{padding:[30,30]}),share_btn.addEventListener("click",async()=>{let n="#FreeguessrJP\n".concat(e[s.map_id],"\n\nPoints: ").concat(s.score.toLocaleString(),"\nTime: ").concat(t,"\n\nabshrimp.github.io/freeguessr");if(navigator.share)try{await navigator.share({title:"FreeguessrJP",text:n,url:"https://abshrimp.github.io/freeguessr"})}catch(e){}else window.clipboardData?(window.clipboardData.setData("Text",n),alert("クリップボードにコピーしました")):navigator.clipboard?(navigator.clipboard.writeText(n),alert("クリップボードにコピーしました")):alert("この端末は対応していません")}),tweet_btn.addEventListener("click",()=>{let n="#FreeguessrJP\n".concat(e[s.map_id],"\n\nPoints: ").concat(s.score.toLocaleString(),"\nTime: ").concat(t,"\n\nabshrimp.github.io/freeguessr");window.open("https://twitter.com/share?text="+encodeURIComponent(n),"_blank","noopener,noreferrer")})};return(0,a.useEffect)(()=>{let e=e=>{("Enter"===e.key||" "===e.key)&&next_btn.click()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[c,u]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:r()["guess-map"],children:(0,n.jsx)("div",{id:"guess_map_canvas",className:r()["guess-map-canvas"]})}),(0,n.jsxs)("div",{className:r().controls,children:[(0,n.jsx)("div",{className:r().round,children:(0,n.jsxs)("div",{children:[c,"　RESULT"]})}),(0,n.jsxs)("div",{className:r()["results-container"],children:[(0,n.jsx)("div",{children:u}),(0,n.jsxs)("div",{children:[(null==s?void 0:s.score.toLocaleString())||""," points"]})]}),(0,n.jsxs)("div",{className:r()["results-container"],children:[(0,n.jsx)("button",{id:"share_btn",className:r()["next-btn"],children:"共有する"}),(0,n.jsx)("button",{id:"tweet_btn",className:r()["next-btn"],children:"ツイート"}),(0,n.jsx)("button",{id:"next_btn",className:r()["next-btn"],children:"OK"})]})]})]})}},6632:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(4848),a=s(6540),i=s(9965),r=s.n(i),l=s(3675),o=s.n(l);let c=e=>{let{setScreen:t,saveData:s,setSaveData:i,sender:l,getPlace:c}=e,[d,u]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),[_,x]=(0,a.useState)({temp:!1}),v=(e,t,s)=>{let n=new Date;n.setTime(n.getTime()+864e5*s),document.cookie="".concat(e,"=").concat(t,";expires=").concat(n.toUTCString(),";path=/")},f=e=>{let t="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===t.length?t.pop().split(";").shift():null},j=async()=>{if("flex"==loading.style.display)return;loading.style.display="flex";let e=await l("login",s);"success"===e.status?(p&&(v("username",name_input.value,7),v("password",pass_input.value,7)),i(e.data),s.continue?t("play"):"id"in s?t("result"):t("settings")):(loading.style.display="none",alert("Error: "+e.message))},b=()=>{s.username=name_input.value,s.password=pass_input.value,j()},y=!0;return(0,a.useEffect)(()=>{if(y){y=!1;let e=f("username");if(e){let t=f("password");s.username=e,s.password=t,j();return}body.style.display="flex"}},[]),(0,a.useEffect)(()=>{let e=e=>{"Enter"!==e.key||""==name_input.value||""==pass_input.value||_.temp||b()},t=e=>{_.temp=!0},s=e=>{_.temp=!1};return document.addEventListener("keydown",e),document.addEventListener("compositionstart",t),document.addEventListener("compositionend",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("compositionstart",t),document.removeEventListener("compositionend",s)}},[d,m,p]),(0,n.jsxs)("div",{id:"body",className:o().body,children:[(0,n.jsxs)("div",{id:"loading",className:o().loading,children:[(0,n.jsx)("img",{className:o().loadingIcon,src:"/freeguessr/images/compass.svg",alt:"Loading"}),(0,n.jsx)("div",{children:"loading..."})]}),(0,n.jsxs)("div",{className:o().loginContainer,children:[(0,n.jsx)(r(),{src:"/freeguessr/images/login-back.svg",alt:"Geoguessr Logo",className:o().logo,width:500,height:300}),(0,n.jsx)("h5",{className:o().slogan,children:"Explore the world freely and for free"}),(0,n.jsx)(r(),{src:"/freeguessr/images/logo.png",alt:"Geoguessr Logo",className:o().title,width:500,height:300,priority:!0}),(0,n.jsxs)("form",{children:[(0,n.jsx)("div",{className:o().inputContainer,children:(0,n.jsx)("input",{id:"name_input",type:"text",placeholder:"Username",value:d,onChange:e=>u(e.target.value),autoComplete:"username"})}),(0,n.jsx)("div",{className:o().inputContainer,children:(0,n.jsx)("input",{id:"pass_input",type:"password",placeholder:"Password",value:m,onChange:e=>g(e.target.value),autoComplete:"current-password"})})]}),(0,n.jsxs)("div",{className:o().rememberMe,children:[(0,n.jsx)("input",{type:"checkbox",id:"rememberMe",checked:p,onChange:e=>h(e.target.checked)}),(0,n.jsx)("label",{htmlFor:"rememberMe",children:"アカウントを記憶"})]}),(0,n.jsx)("div",{className:o().buttonContainer,children:(0,n.jsx)("button",{id:"login_btn",onClick:b,children:"Login"})}),(0,n.jsx)("a",{onClick:()=>t("register"),className:o().signupLink,children:"アカウントを作成"}),(0,n.jsx)("a",{href:"/freeguessr/daily",className:o().signupLink,children:"今日の1問"}),(0,n.jsx)("a",{href:"https://note.com/abshrimp/n/n91f4c83d35a5",target:"_blank",rel:"noopener noreferrer",className:o().signupLink,children:"How to Play"})]})]})}},8655:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(4848),a=s(6540),i=s(270),r=s.n(i);let l=e=>{let{setScreen:t,saveData:s,setSaveData:i,sender:l,getPlace:o}=e,[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),g=e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60),n;n=t<100?"00".concat(t).slice(-2):t;let a="00".concat(s).slice(-2),i="00".concat(e%60).slice(-2);return 0!==t?"".concat(n,":").concat(a,":").concat(i):"".concat(a,":").concat(i)},p=!0;(0,a.useEffect)(()=>{p&&(p=!1,h())},[]);let h=async()=>{let e=await l("rank",s);if("success"===e.status){let t=e.ranking;t.sort((e,t)=>t.highest_score!==e.highest_score?t.highest_score-e.highest_score:e.session_duration-t.session_duration);let n=1;for(let e=0;e<t.length;e++)e>0&&t[e].highest_score===t[e-1].highest_score&&t[e].session_duration===t[e-1].session_duration?t[e].rank=t[e-1].rank:t[e].rank=n++,t[e].time=g(t[e].session_duration),t[e].score=t[e].highest_score.toLocaleString(),t[e].class=s.username==t[e].username?r()["my-rank"]:"";d(t),e.my_duration?m([{rank:e.my_rank,name:s.username,score:e.my_score.toLocaleString(),time:g(e.my_duration)}]):m([{rank:"-",name:s.username,score:"-",time:"-"}])}else alert("Error: "+e.message),t("settings")},_=async()=>{await h(),alert("更新しました")};return(0,n.jsx)("div",{className:r().body,children:(0,n.jsxs)("div",{className:r().container,children:[(0,n.jsx)("div",{className:r().title,children:"統一ルール　スコア TOP100"}),(0,n.jsx)("div",{className:r()["ranking-table-wrapper"],children:(0,n.jsx)("table",{id:"table",className:r()["ranking-table"],children:(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"順位"}),(0,n.jsx)("th",{children:"名前"}),(0,n.jsx)("th",{children:"スコア"}),(0,n.jsx)("th",{children:"タイム"})]})})})}),(0,n.jsx)("div",{className:r()["ranking-table-wrapper"],children:(0,n.jsx)("table",{id:"table",className:r()["ranking-table"],children:(0,n.jsx)("tbody",{children:c.map((e,t)=>(0,n.jsxs)("tr",{className:e.class,children:[(0,n.jsxs)("td",{children:[e.rank,"位"]}),(0,n.jsx)("td",{children:e.username}),(0,n.jsx)("td",{children:e.score}),(0,n.jsx)("td",{children:e.time})]},t))})})}),(0,n.jsx)("div",{className:r()["ranking-table-wrapper"],children:(0,n.jsx)("table",{className:r()["ranking-table"],children:(0,n.jsx)("tbody",{children:u.map((e,t)=>(0,n.jsxs)("tr",{className:r()["my-rank"],children:[(0,n.jsxs)("td",{children:[e.rank,"位"]}),(0,n.jsx)("td",{children:e.name}),(0,n.jsx)("td",{children:e.score}),(0,n.jsx)("td",{children:e.time})]},t))})})}),(0,n.jsxs)("div",{className:r()["ranking-actions"],children:[(0,n.jsx)("button",{onClick:()=>t("settings"),children:"戻る"}),(0,n.jsx)("button",{onClick:_,children:"更新"})]})]})})}},2564:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(4848),a=s(6540),i=s(9965),r=s.n(i),l=s(3675),o=s.n(l);let c=e=>{let{setScreen:t,saveData:s,setSaveData:i,sender:l,getPlace:c}=e,[d,u]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[p,h]=(0,a.useState)({temp:!1}),_=async()=>{if("flex"==loading.style.display)return;loading.style.display="flex";let e=await l("register",s);"success"===e.status?(alert("登録が完了しました"),t("login")):(loading.style.display="none",alert("Error: "+e.message))},x=()=>{if(name_input.value.length>20){alert("Usernameは20文字以内にしてください");return}window.confirm("Username, Passwordの変更はできませんがよろしいですか？")&&(s.username=name_input.value,s.password=pass_input.value,_())};return(0,a.useEffect)(()=>{body.style.display="flex";let e=e=>{"Enter"!==e.key||""==name_input.value||""==pass_input.value||p.temp||x()},t=e=>{p.temp=!0},s=e=>{p.temp=!1};return document.addEventListener("keydown",e),document.addEventListener("compositionstart",t),document.addEventListener("compositionend",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("compositionstart",t),document.removeEventListener("compositionend",s)}},[d,m]),(0,n.jsxs)("div",{id:"body",className:o().body,children:[(0,n.jsxs)("div",{id:"loading",className:o().loading,children:[(0,n.jsx)("img",{className:o().loadingIcon,src:"/freeguessr/images/compass.svg",alt:"Loading"}),(0,n.jsx)("div",{children:"loading..."})]}),(0,n.jsxs)("div",{className:o().loginContainer,children:[(0,n.jsx)(r(),{src:"/freeguessr/images/login-back.svg",alt:"Geoguessr Logo",className:o().logo,width:500,height:300}),(0,n.jsx)("h5",{className:o().slogan,children:"Explore the world freely and for free"}),(0,n.jsx)(r(),{src:"/freeguessr/images/logo.png",alt:"Geoguessr Logo",className:o().title,width:500,height:300}),(0,n.jsxs)("form",{children:[(0,n.jsx)("div",{className:o().inputContainer,children:(0,n.jsx)("input",{id:"name_input",type:"text",placeholder:"Username",value:d,onChange:e=>u(e.target.value),autoComplete:"username"})}),(0,n.jsx)("div",{className:o().inputContainer,children:(0,n.jsx)("input",{id:"pass_input",type:"password",placeholder:"Password",value:m,onChange:e=>g(e.target.value),autoComplete:"new-password"})})]}),(0,n.jsx)("div",{className:o().buttonContainer,children:(0,n.jsx)("button",{id:"login_btn",onClick:x,children:"登録"})}),(0,n.jsx)("a",{onClick:()=>t("login"),className:o().signupLink,children:"戻る"})]})]})}},1332:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(4848),a=s(6540),i=s(9781),r=s.n(i);let l=e=>{let{setScreen:t,saveData:s,setSaveData:i,sender:l,getPlace:o}=e,[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),h=!0;(0,a.useEffect)(()=>{h&&(h=!1,_())},[]);let _=()=>{d(s.question.stage+1);let e=L.map("guess_map_canvas",{zoomControl:!1});L.tileLayer("https://www.google.com/maps/vt?pb=!1m5!1m4!1i{z}!2i{x}!3i{y}!4i256!2m3!1e0!2sm!3i693439125!3m12!2sja!3sJP!5e289!12m4!1e68!2m2!1sset!2sRoadmap!12m3!1e37!2m1!1ssmartmaps!4e0!5m1!5f2",{attribution:"\xa9️ <a href='https://www.google.com/maps/' target='_blank'>Google</a>",maxZoom:20,maxNativeZoom:20}).addTo(e),new ResizeObserver(()=>{e.invalidateSize()}).observe(e._container);let n=s.question,a=L.latLng([Number(n.lat),Number(n.lng)]),r=-1,c=0;if(n.guess_lat){let t=L.icon({iconUrl:"/freeguessr/images/guess.svg",iconSize:[24,24],iconAnchor:[12,12]}),i=L.marker([Number(n.guess_lat),Number(n.guess_lng)],{icon:t}).addTo(e);L.polyline([a,i.getLatLng()],{color:"black",weight:2,dashArray:"4 4"}).addTo(e),e.fitBounds(L.latLngBounds([a,i.getLatLng()]),{padding:[30,30]}),c=Math.round(5e3*Math.exp(-((r=a.distanceTo(i.getLatLng()))/1e3)/s.score_scale))}else e.setView([a.lat,a.lng],10);n.score=c,s.score+=n.score;let u="",g=async()=>{u=await o(s.map_id)},h=0,_="",x=0,v=async()=>{var e=new XMLHttpRequest;return e.open("HEAD","#",!1),e.send(null),new Date(e.getResponseHeader("Date"))-new Date},f=async()=>{h=await v(),_=new Date().getTime()},j=()=>_+h+x,b=setInterval(()=>{"undefined"==typeof next_btn&&clearInterval(b),""!=_&&(x+=10)},10),y=async()=>{let e=s.question;await f(),e.duration=Math.min(Math.floor((j()-s.question.start_time)/1e3),s.limit_time),s.duration+=e.duration,i({question:JSON.stringify(e)});let t=await l("guess",s);"success"===t.status?(s.question=e,loading.style.display="none"):(alert("Error: "+t.message),location.reload())};s.question.stage<s.stage_num&&g(),"continue"in s?loading.style.display="none":y(),e.invalidateSize();let k=L.icon({iconUrl:"/freeguessr/images/flag.svg",iconSize:[25,50],iconAnchor:[12.5,47]});L.marker(a,{icon:k}).addTo(e);let w="Timeout";r>=0&&(w=r<1e3?Math.round(r).toLocaleString()+" m":r<1e4?(Math.round(r/100)/10).toLocaleString()+" km":Math.round(r/1e3).toLocaleString()+" km"),m(w);let N=c.toLocaleString();p(N+=1==c?" point":" points");let E=!1,S=async e=>{""==_&&await f(),s.send_flag=!0,s.question={stage:s.question.stage+1,start_time:j(),pano_id:null,heading:null,lat:e[0],lng:e[1],guess_lat:null,guess_lng:null,score:0,duration:null},t("play")};next_btn.addEventListener("click",()=>{if(!E&&"none"==loading.style.display){if(E=!0,s.question.stage==s.stage_num)t("end");else{loading.style.display="flex";let e=setInterval(()=>{""!=u&&(clearInterval(e),S(u))},1)}}})};return(0,a.useEffect)(()=>{let e=e=>{("Enter"===e.key||" "===e.key)&&"undefined"!=typeof next_btn&&next_btn.click()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[c,u,g]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{id:"loading",className:r().loading,children:[(0,n.jsx)("img",{className:r().loadingIcon,src:"/freeguessr/images/compass.svg",alt:"Loading"}),(0,n.jsx)("div",{children:"loading..."})]}),(0,n.jsx)("div",{className:r()["guess-map"],children:(0,n.jsx)("div",{id:"guess_map_canvas",className:r()["guess-map-canvas"]})}),(0,n.jsxs)("div",{className:r().controls,children:[(0,n.jsx)("div",{className:r().round,children:(0,n.jsxs)("div",{children:["Round ",c]})}),(0,n.jsxs)("div",{className:r()["results-container"],children:[(0,n.jsx)("div",{children:u}),(0,n.jsx)("div",{children:g})]}),(0,n.jsx)("button",{id:"next_btn",className:r()["next-btn"],children:"NEXT"})]})]})}},5144:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(4848),a=s(6540),i=s(9009),r=s.n(i);let l=e=>{let{title:t,icon:s,enabled:a,onToggle:i}=e;return(0,n.jsxs)("div",{className:r().featureItem,children:[(0,n.jsx)("div",{children:t}),(0,n.jsx)("img",{src:s,alt:t,className:r().featureIcon}),(0,n.jsx)("div",{className:r().toggle,children:(0,n.jsx)("label",{className:r().toggleButton,children:(0,n.jsx)("input",{type:"checkbox",checked:a,onChange:i})})})]})},o=e=>{let{setScreen:t,saveData:s,setSaveData:i,sender:o,getPlace:c}=e,[d,u]=(0,a.useState)(110),[m,g]=(0,a.useState)(!0),[p,h]=(0,a.useState)(!0),[_,x]=(0,a.useState)(!0),[v,f]=(0,a.useState)(!0);(0,a.useEffect)(()=>{f(110===d&&m&&p&&_)},[d,m,p,_]),(0,a.useEffect)(()=>{let e=document.querySelector(".".concat(r().slider)),t=document.querySelector(".".concat(r().toggleButton," input")),s=e=>{u(Number(e.target.value))},n=()=>{u(110),g(!0),h(!0),x(!0)};return e&&e.addEventListener("input",s),t&&t.addEventListener("change",n),()=>{e&&e.removeEventListener("input",s),t&&t.removeEventListener("change",n)}},[]),(0,a.useEffect)(()=>{let e=document.querySelector(".".concat(r().slider));if(e){let t=d/600*100;e.style.background="linear-gradient(90deg, ".concat("#8B4513"," ").concat(t,"%, ").concat("#dddddd"," ").concat(t,"%)")}},[d]);let j=async()=>{if("flex"==loading.style.display)return;let e=async()=>{var e=new XMLHttpRequest;return e.open("HEAD","#",!1),e.send(null),new Date(e.getResponseHeader("Date"))-new Date};loading.style.display="flex";let s=await c(1),n=0;m||(n+=1),p||(n+=10),_||(n+=100);let a=await e();i({map_id:1,score_scale:212.856,game_type:n,stage_num:4,limit_time:(d+10)%610,score:0,duration:0,send_flag:!0,question:{stage:0,start_time:new Date().getTime()+a,pano_id:null,heading:null,lat:s[0],lng:s[1],guess_lat:null,guess_lng:null,score:0,duration:null}}),t("play")};return(0,a.useEffect)(()=>{let e=e=>{"Enter"===e.key&&j()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[d,m,p,_,v]),(0,n.jsxs)("div",{className:r().body,children:[(0,n.jsxs)("div",{id:"loading",className:r().loading,children:[(0,n.jsx)("img",{className:r().loadingIcon,src:"/freeguessr/images/compass.svg",alt:"Loading"}),(0,n.jsx)("div",{children:"loading..."})]}),(0,n.jsxs)("div",{className:r().container,children:[(0,n.jsx)("button",{className:r().buttonRound,onClick:()=>t("rank"),children:"ランキングを見る"}),(0,n.jsxs)("div",{className:r().game,children:[(0,n.jsx)("input",{type:"radio",id:"national-map",name:"map",value:"national",defaultChecked:!0}),(0,n.jsxs)("label",{htmlFor:"national-map",className:r().mapLabel,children:[(0,n.jsx)("div",{children:"全国マップ"}),(0,n.jsx)("img",{className:r().mapIcon,src:"/freeguessr/images/japan.svg",alt:"Japan"})]}),(0,n.jsx)("input",{type:"radio",id:"local-map",name:"map",value:"local",disabled:!0}),(0,n.jsxs)("label",{htmlFor:"local-map",className:r().mapLabel,children:[(0,n.jsx)("div",{children:"自治体マップ"}),(0,n.jsx)("img",{className:r().mapIcon,src:"/freeguessr/images/hokkaido.svg",alt:"local government"}),(0,n.jsx)("div",{className:r().comingSoon,children:"近日実装予定"})]})]}),(0,n.jsx)("button",{className:"".concat(r().buttonRound," ").concat(r().startBtn),onClick:j,children:"START"}),(0,n.jsxs)("div",{className:r().box,children:[(0,n.jsxs)("div",{className:r().boxItem,children:[(0,n.jsx)("div",{children:"統一ルール"}),(0,n.jsx)("div",{className:r().toggle,children:(0,n.jsx)("label",{className:r().toggleButton,children:(0,n.jsx)("input",{type:"checkbox",checked:v,disabled:v,onChange:e=>f(e.target.checked)})})})]}),(0,n.jsxs)("div",{className:r().timeItem,children:[(0,n.jsx)("div",{children:"ラウンドタイム"}),(0,n.jsxs)("div",{className:r().sliderContainer,children:[(0,n.jsx)("input",{type:"range",className:r().slider,min:"0",max:"600",step:"10",value:d,readOnly:!0}),(0,n.jsx)("div",{className:r().limitTime,children:(()=>{if(600===d)return"無制限";let e=d+10,t=Math.floor(e/60);return"".concat(t>0?"".concat(t,"m"):"").concat(String(e%60).padStart(2,"0"),"s")})()})]})]}),(0,n.jsxs)("div",{className:r().features,children:[(0,n.jsx)(l,{title:"移動",icon:"/freeguessr/images/move.svg",enabled:m,onToggle:()=>g(!m)}),(0,n.jsx)(l,{title:"パン",icon:"/freeguessr/images/double-arrow.svg",enabled:p,onToggle:()=>h(!p)}),(0,n.jsx)(l,{title:"ズーム",icon:"/freeguessr/images/zoom.svg",enabled:_,onToggle:()=>x(!_)})]})]}),(0,n.jsx)("button",{className:r().buttonRound,onClick:()=>{if(window.confirm("ログアウトしてもよろしいですか？")){let e=e=>{document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/")};e("username"),e("password"),location.reload()}},children:"ログアウト"})]})]})}},6993:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var n=s(4848),a=s(6540),i=s(8133),r=s.n(i),l=s(6632),o=s(2564),c=s(5144),d=s(6791),u=s(1332),m=s(5584),g=s(8655);let p=()=>{let[e,t]=(0,a.useState)("login"),[s,i]=(0,a.useState)({}),[p,h]=(0,a.useState)(0),_=(()=>{function e(s,n){let a=t();return(e=function(e,t){return a[e-=405]})(s,n)}function t(){let e=["2440mWGZGQ","1122490aEhwHP","8RlzJpe","reverse","join","split","fromCharCode","1635876tlxkmE","40889jqiWGU","9755CmLUgp","275211lZwvyY","2369523aHeeGT","181622MEBSAO","floor","54sAIYxk","charCodeAt","map"];return(t=function(){return e})()}!function(t,s){let n=e,a=t();for(;;)try{if(parseInt(n(410))/1+parseInt(n(409))/2+parseInt(n(413))/3+-parseInt(n(419))/4*(parseInt(n(411))/5)+parseInt(n(416))/6*(parseInt(n(414))/7)+-parseInt(n(421))/8*(-parseInt(n(412))/9)+parseInt(n(420))/10==834900)break;a.push(a.shift())}catch(e){a.push(a.shift())}}(t,0);let s={};return s.e=t=>{let s=e,n=Math[s(415)](70*Math.random()+10);return encodeURIComponent(btoa(encodeURIComponent(JSON.stringify(t))[s(407)]("")[s(418)](e=>String[s(408)]((e.charCodeAt(0)-33+n)%92+33)).reverse()[s(406)]("")))},s})().e,x=async(e,t)=>{try{let t=await fetch("".concat("https://abshrimp.cloudfree.jp/geo","/").concat(e,".php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:_(s)})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){return console.error("Error:",e),alert("エラーが発生しました\nもう一度お試しください"),null}},v={setScreen:e=>{"play"==e&&h(e=>e+1),t(e)},saveData:s,setSaveData:e=>{for(let t in e)s[t]=e[t]},sender:x,getPlace:async function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let e=await fetch("https://abshrimp.cloudfree.jp/geo/street.cgi",{"Content-Type":"application/json"});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return(await e.json()).data}catch(e){return console.error("Error:",e),alert("エラーが発生しました\nもう一度お試しください"),null}}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r(),{src:"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",strategy:"afterInteractive"}),(0,n.jsx)("div",{children:(()=>{switch(e){case"login":default:return(0,n.jsx)(l.default,{...v});case"register":return(0,n.jsx)(o.default,{...v});case"settings":return(0,n.jsx)(c.default,{...v});case"play":return(0,n.jsx)(d.default,{...v});case"result":return(0,n.jsx)(u.default,{...v});case"end":return(0,n.jsx)(m.default,{...v});case"rank":return(0,n.jsx)(g.default,{...v})}})()})]})}},3675:e=>{e.exports={body:"login_body__1lCiq",loginContainer:"login_loginContainer__KnJlW",slogan:"login_slogan__SoReZ",title:"login_title__x5Khj",inputContainer:"login_inputContainer__4A1tU",rememberMe:"login_rememberMe__bsXgW",buttonContainer:"login_buttonContainer__vcPDH",signupLink:"login_signupLink__Z7YyX",logo:"login_logo__zdAsU",loading:"login_loading__bxnS2",loadingIcon:"login_loadingIcon__QJL1w",spin:"login_spin__lsw6F"}},270:e=>{e.exports={body:"rank_body__bH0TW",container:"rank_container__TV26o",title:"rank_title__GDfJG","ranking-table-wrapper":"rank_ranking-table-wrapper__TmRCX","ranking-table":"rank_ranking-table___uAIU","my-rank":"rank_my-rank__VmNgC","ranking-actions":"rank_ranking-actions__Cq_5z"}},9781:e=>{e.exports={"guess-map":"result_guess-map__WxqEP","guess-map-canvas":"result_guess-map-canvas__mCAu7",controls:"result_controls__PeGYl","results-container":"result_results-container__FlTml",round:"result_round__Sm0e2","next-btn":"result_next-btn__VLj7M",loading:"result_loading__xfA6c",loadingIcon:"result_loadingIcon__tnSEj",spin:"result_spin__WS2lf"}},9009:e=>{e.exports={body:"settings_body__XQX_1",container:"settings_container__r4Gee",box:"settings_box__jGLiU",boxItem:"settings_boxItem__tIoTg",timeItem:"settings_timeItem__d524B",title:"settings_title__HbIV1",game:"settings_game__UOj18",mapIcon:"settings_mapIcon__nA0B7",comingSoon:"settings_comingSoon__nQXLZ",features:"settings_features__fnyAn",featureItem:"settings_featureItem__NwQey",toggle:"settings_toggle__zSp1h",toggleButton:"settings_toggleButton__PRrKg",sliderContainer:"settings_sliderContainer__Jk04r",limitTime:"settings_limitTime__jJVxI",slider:"settings_slider__6428c",buttonRound:"settings_buttonRound__h5N9H",startBtn:"settings_startBtn__ZlVuH",loading:"settings_loading__hnUWV",loadingIcon:"settings_loadingIcon__gFNxH",spin:"settings_spin__bLF0O"}}},e=>{var t=t=>e(e.s=t);e.O(0,[965,791,636,593,792],()=>t(7276)),_N_E=e.O()}]);